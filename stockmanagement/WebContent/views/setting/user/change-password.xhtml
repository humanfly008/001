<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:c="http://java.sun.com/jsp/jstl/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
    <h:body>    	
    	<ui:composition template="/WEB-INF/layout/layout.xhtml">
			<ui:param name="transaction" value="เปลี่ยน Password" />
           	<ui:define name="content">
				<script type="text/javascript"> 
	         		/* <![CDATA[ */
	         	  	function validateSubmit(){	
	         			validateNotNull("formData:newPassword",			"New Password");
	         			validateNotNull("formData:confirmNewPassword", 	"Confirm Password");

	         			var newPassword = document.getElementById("formData:newPassword").value;
	         			var confirmPassword = document.getElementById("formData:confirmNewPassword").value;
	         			
	         			if(newPassword!=confirmPassword){
	         				setErrorMessage("New Password, Confirm Password", "New Password and Confirm Password must equal");
	         			}
	         			
			          	return displayErrorMessage('errorMessageAddForm');   
					} 
					/* ]]> */
				</script>	
				<h:form id="formData">
					<h:outputLabel id="displayMessage">
						<p:messages closable="true"/>
					</h:outputLabel>
				
					<table width="90%">
						<tr>
							<td colspan="2">
								<h:outputLabel>	
				    				<div id="errorMessageAddForm" class="ui-messages ui-widget"/>					
			    				</h:outputLabel>
							</td>
						</tr>
					  	<tr>
					    	<td align="right"><h:outputText value="ชื่อ"/></td>
					    	<td>
					    		<p:inputText value="#{changePasswordAction.userFormBO.firstName}" readonly="true" size="30" style="background-color:#d7d7d7;"/>
				   			</td>	
					    </tr>
					    <tr>
					    	<td align="right"><h:outputText value="นามสกุล"/></td>
					    	<td>
					    		<p:inputText value="#{changePasswordAction.userFormBO.lastName}" readonly="true" size="30" style="background-color:#d7d7d7;"/>
				   			</td>	
					    </tr>
					    <tr>
					    	<td align="right" width="20%"><h:outputText value="User ID"/></td>
					    	<td>
					    		<p:inputText value="#{changePasswordAction.userFormBO.userId}" readonly="true" style="background-color:#d7d7d7;"/>
				   			</td>	
					  	</tr>
					    <tr>
					   		<td align="right">
					   			<h:outputText value="* New Password"/>
					   		</td>
					   		<td>
					   			<p:password id="newPassword" value="#{changePasswordAction.newPassword}" size="30" maxlength="100"/>
				    		</td>
				    	</tr>
				    	<tr>
					   		<td align="right">
					   			<h:outputText value="* Confirm Password"/>
					   		</td>
					   		<td>
					   			<p:password id="confirmNewPassword" value="#{changePasswordAction.newPassword}" size="30" maxlength="100"/>
				    		</td>
				    	</tr>
				    	<tr>
				    		<td>&nbsp;</td>
				    	</tr>	
				    	<tr>
				    		<td colspan="2"><p:commandButton value="บันทึก" action="#{changePasswordAction.doChangePassword}" onclick="return validateSubmit();" styleClass="ui-priority-primary" icon="ui-icon-disk"/></td>
				    	</tr>
				   	</table> 	
					
				</h:form>
			</ui:define>
     	</ui:composition>
	</h:body>
</html>
                