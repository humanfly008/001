<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:p="http://primefaces.org/ui">
    <h:body>    
    			<script type="text/javascript"> 
	         		/* <![CDATA[ */
	         	  	function printSalaryIncome(){	
	         			var userId = document.getElementById("printFormIncome:userId").value;
	         			var id = document.getElementById("printFormIncome:id").value;
	         			var month = document.getElementById("printFormIncome:month_input").value;
	         			var year = document.getElementById("printFormIncome:year_input").value;
	         			var param = userId+","+id+","+month+","+year;

	         			var location = "http://localhost:8080/stockreport/ExportReportServlet?param="+param;
	         			
	         			window.open(location); 
					} 
	         		/* ]]> */
				</script>	
						<h:outputLabel>	
	    					<div id="errorMessageDialogAdd" class="ui-messages ui-widget" />					
    					</h:outputLabel>
    					
    					<h:inputHidden id="userId" value="#{salaryManagementAction.printSalaryFormBO.userId}"/>
    					<h:inputHidden id="id" value="#{salaryManagementAction.printSalaryFormBO.id}"/>
    					<table width="100%">
						    <tr> 
					        	<td align="left" colspan="2">
									<div id="pnl_header" class="ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all">
										<span class="ui-panel-title">รายละเอียดข้อมูล รายได้</span>
									</div>
					        	</td>	
					        </tr>
					    	<tr>
					    		<td width="50%">
					    			<h:outputText value="ชื่อ"/>&nbsp;
						    		<h:outputText value="#{salaryManagementAction.printSalaryFormBO.firstName}"/>&nbsp;
						    		<h:outputText value="#{salaryManagementAction.printSalaryFormBO.lastName}"/>
					    		</td>
					    		<td>
					    			<h:panelGrid columns="4">
							    		<h:outputText value="ประจำเดือน"/>&nbsp;
										<p:selectOneMenu  id="month" value="#{salaryManagementAction.searchFormBO.month}" disabled="true">
											<f:selectItems value="#{salaryManagementAction.monthDropdown}" var="dropdown" itemLabel="#{dropdown.label}" itemValue="#{dropdown.value}"/>
										</p:selectOneMenu>
													    			
						    			<p:selectOneMenu  id="year" value="#{salaryManagementAction.searchFormBO.year}" disabled="true">
											<f:selectItems value="#{salaryManagementAction.yearDropdown}" var="dropdown" itemLabel="#{dropdown.label}" itemValue="#{dropdown.value}"/>
										</p:selectOneMenu>
						    		</h:panelGrid>
					    		</td>
					    	</tr>
					    	<tr>
					    		<td width="50%">
					    			<h:outputText value="ตำแหน่ง"/>&nbsp;
						    		<h:outputText value="#{salaryManagementAction.printSalaryFormBO.position}"/>&nbsp;
					    		</td>
					    		<td>
					    			<h:outputText value="ประเภทรายได้"/>&nbsp;
					    			<h:outputText value="เงินเดือน" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='MONTH'}"/>
					    			<h:outputText value="รายวัน" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='DAY'}"/>
					    		</td>
					    	</tr>

							<tr>
					    		<td width="50%">
					    			<h:outputText value="เลขที่บัตรประชาชน"/>&nbsp;
						    		<h:outputText value="#{salaryManagementAction.printSalaryFormBO.idCard}"/>&nbsp;
					    		</td>
					    		<td>
					    			<h:outputText value="อัตราเงินเดือน/ค่าแรง"/>&nbsp;
					    			<h:outputText value="#{salaryManagementAction.printSalaryFormBO.salaryStr}" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='MONTH'}"/>
					    			<h:outputText value="#{salaryManagementAction.printSalaryFormBO.dailyStr}" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='DAY'}"/>
					    		</td>
					    	</tr>
					    	<tr>
					    		<td>&nbsp;</td>
					    	</tr>	
					    	<tr>
					    		<td>
									<table width="100%">
									    <tr> 
								        	<td align="center" colspan="3">
												<div id="pnl_header" class="ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all">
													<span class="ui-panel-title">เงินได้</span>
												</div>
								        	</td>	
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="รายได้"/></td>
								        	<td width="30%">
								        		<h:outputText value="30 วัน" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='MONTH'}"/>
								    			<h:outputText value="#{salaryManagementAction.printSalaryFormBO.dailyDay} วัน" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='DAY'}"/>
								        	</td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.salaryStr}" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='MONTH'}"/>
								    			<h:outputText value="#{salaryManagementAction.printSalaryFormBO.dailyStr}" rendered="#{salaryManagementAction.printSalaryFormBO.payType=='DAY'}"/>
								    		</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="ค่าพาหนะ"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.fareStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="ค่าเบี้ยขยัน"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.diligenceStr}"/>
								        	</td>
								        </tr> 
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="โบนัส"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.bonusStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="OT"/></td>
								        	<td width="30%">
								        		<h:outputText value="#{salaryManagementAction.printSalaryFormBO.otHour} ชม."/>
								        	</td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.otSummaryStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="รายได้อื่นๆ"/></td>
								        	<td width="30%"></td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.otherIncomeStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="รวมเงินได้"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<b><h:outputText value="#{salaryManagementAction.printSalaryFormBO.totalSalaryIncomeStr}"/></b>
								        	</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
									</table>									
								</td>
								<td>
									<table width="100%">
									    <tr> 
								        	<td align="center" colspan="3">
												<div id="pnl_header" class="ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all">
													<span class="ui-panel-title">เงินหัก</span>
												</div>
								        	</td>	
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="หักประกันสังคม"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
								        		<h:outputText value="#{salaryManagementAction.printSalaryFormBO.subtractSocialStr}"/>
								    		</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="ภาษี"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.subtractTaxStr}"/>
								    		</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="หักหยุดงาน"/></td>
								        	<td width="30%"></td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.leaveSubtractStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="หักสะสม"/></td>
								        	<td width="30%"></td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.accumulateSubtractStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="หักอื่นๆ"/></td>
								        	<td width="30%"></td>
								        	<td align="right" width="30%">
									        	<h:outputText value="#{salaryManagementAction.printSalaryFormBO.otherSubtractStr}"/>
								        	</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td colspan="3">&nbsp;</td>
								        </tr>
								        <tr>
								        	<td align="left" width="30%"><h:outputText value="รวมเงินหัก"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<b><h:outputText value="#{salaryManagementAction.printSalaryFormBO.subtractSocial+
									        								salaryManagementAction.printSalaryFormBO.subtractTax+
									        								salaryManagementAction.printSalaryFormBO.leaveSubtract+
									        								salaryManagementAction.printSalaryFormBO.accumulateSubtract+
									        								salaryManagementAction.printSalaryFormBO.otherSubtract
									        								}">
													<f:convertNumber minFractionDigits="2" />
									        	</h:outputText>
									        	</b>
								        	</td>
								        </tr>
								       	<tr>
								        	<td align="left" width="30%"><h:outputText value="รวมเงินได้สุทธิ"/></td>
								        	<td width="30%">
								        	</td>
								        	<td align="right" width="30%">
									        	<b><h:outputText value="#{salaryManagementAction.printSalaryFormBO.totalSalaryIncomeNetStr}"/></b>
								        	</td>
								        </tr>
									</table>
								</td>					    	
					    	</tr>
							<tr>
								<td colspan="3">&nbsp;</td>
							</tr>
					    	<tr>
								<td colspan="3">
									<h:outputText value="หมายเหตุ : "/>	
									<h:outputText value="#{salaryManagementAction.printSalaryFormBO.details}"/>
								</td>
							</tr>
							<tr>
								<td colspan="3">&nbsp;</td>
							</tr>
							<tr>
								<td colspan="3">&nbsp;</td>
							</tr>
					    	<tr>
					    		<td align="left" colspan="2">
						    		<p:commandButton value="พิมพ์รายการรายได้" onclick="return printSalaryIncome();" oncomplete="otAddFormDialog.hide()" styleClass="ui-priority-primary" icon="ui-icon-disk"/>
					    		</td>
					    	</tr>
					    </table>
					    
		
	</h:body>
</html>
                